.app-showcase {
    padding: 4rem 2rem;
    background: transparent;
    font-family: 'Outfit', sans-serif;
    position: relative;
    overflow: hidden;

    .container {
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
    }

    .section-header {
        text-align: center;
        margin-bottom: 2.5rem;
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 1.5rem 2rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.5);

        opacity: 0;
        transform: translateY(60px);
        transition: opacity 0.7s ease-out, transform 0.7s ease-out;

        .title {
            color: #5E794B;
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.8rem;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: #8da37d;
            font-size: 1.2rem;
            font-weight: 600;
            max-width: 800px;
            margin: 0 auto;
        }
    }

    // ── Main 3-column layout: features | phone | features ──
    .showcase-layout {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 0;
        align-items: center;
        min-height: 480px;

        @media (max-width: 1023px) {
            grid-template-columns: 1fr;
            gap: 2rem;
            min-height: auto;
        }
    }

    // ── Feature columns ──
    .features-col {
        display: flex;
        flex-direction: column;
        gap: 2rem;

        @media (max-width: 1023px) {
            gap: 1rem;
        }
    }

    .features-left {
        align-items: flex-end; // cards stick to the right (toward phone)

        .feature-card {
            flex-direction: row; // card body → line
        }

        @media (max-width: 1023px) {
            align-items: stretch;
            order: 2;
        }
    }

    .features-right {
        align-items: flex-start; // cards stick to the left (toward phone)

        .feature-card {
            flex-direction: row; // line → card body (line on left toward phone)
        }

        @media (max-width: 1023px) {
            align-items: stretch;
            order: 3;
        }
    }

    // ── Feature card ──
    .feature-card {
        display: flex;
        align-items: center;
        cursor: pointer;
        max-width: 340px;

        opacity: 0;
        transform: translateY(40px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;

        @media (max-width: 1023px) {
            max-width: 100%;
            flex-direction: row !important;
        }

        .card-body {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 1.4rem 1.5rem;
            border-radius: 20px;
            border: 3px solid rgba(94, 121, 75, 0.12);
            box-shadow: 0 4px 20px rgba(94, 121, 75, 0.06);
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            position: relative;

            .icon-box {
                width: 50px;
                height: 50px;
                background: #f0f7ec;
                border-radius: 16px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.6rem;
                margin-bottom: 0.8rem;
                transition: all 0.3s ease;
                line-height: 1;
                padding-bottom: 3px;
            }

            h3 {
                color: #5E794B;
                font-size: 1.1rem;
                font-weight: 800;
                margin: 0 0 0.4rem;
                transition: color 0.3s ease;
            }

            p {
                color: #666;
                font-size: 0.9rem;
                line-height: 1.5;
                margin: 0;
                transition: color 0.3s ease;
            }
        }

        // ── Connector line from card to phone ──
        .connector-line {
            width: 50px;
            height: 3px;
            background: linear-gradient(
                90deg,
                #5E794B,
                rgba(255, 255, 255, 0.9)
            );
            position: relative;
            flex-shrink: 0;
            transition: all 0.4s ease;
            border-radius: 2px;

            // Dot at the phone end
            &::after {
                content: '';
                position: absolute;
                top: 50%;
                right: -5px;
                width: 10px;
                height: 10px;
                background: #5E794B;
                border: 2px solid #fff;
                border-radius: 50%;
                transform: translateY(-50%);
                box-shadow: 0 0 10px rgba(94, 121, 75, 0.5);
                transition: all 0.4s ease;
            }

            @media (max-width: 1023px) {
                display: none;
            }
        }

        // Hover / active state: change card + line color
        &:hover,
        &.active {
            .card-body {
                background: #5E794B;
                box-shadow: 0 12px 35px rgba(94, 121, 75, 0.3);
                border: 3px solid #C4964A;
                transform: scale(1.03);

                .icon-box {
                    background-color: rgba(255, 255, 255, 0.2);
                    color: white;
                    transform: scale(1.15);
                }

                h3 {
                    color: #fff;
                }

                p {
                    color: rgba(255, 255, 255, 0.85);
                }
            }

            .connector-line {
                width: 65px;
                height: 4px;
                background: linear-gradient(
                    90deg,
                    #C4964A,
                    #5E794B
                );

                &::after {
                    width: 12px;
                    height: 12px;
                    background: #C4964A;
                    border-color: #fff;
                    box-shadow: 0 0 16px rgba(196, 150, 74, 0.6);
                }
            }
        }
    }

    // Right features: flip the gradient and dot to the left end
    .features-right .feature-card .connector-line {
        background: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.9),
            #5E794B
        );

        &::after {
            right: auto;
            left: -5px;
        }
    }

    .features-right .feature-card:hover .connector-line,
    .features-right .feature-card.active .connector-line {
        background: linear-gradient(
            90deg,
            #5E794B,
            #C4964A
        );

        &::after {
            right: auto;
            left: -6px;
        }
    }

    // ── Center phone ──
    .phone-center {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0 1rem;

        opacity: 0;
        transform: translateY(60px) scale(0.9);
        transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);

        @media (max-width: 1023px) {
            order: 1; // Phone first on mobile
        }
    }

    .phone-float-wrapper {
        // No floating animation
    }

    .phone-frame {
        width: 280px;
        height: 560px;
        position: relative;
        z-index: 2;

        @media (max-width: 1023px) {
            width: 220px;
            height: 440px;
        }
    }

    .phone-notch {
        display: none;
    }

    .phone-screen {
        width: 100%;
        height: 100%;
        border-radius: 28px;
        overflow: hidden;
        position: relative;
        box-shadow: 0 20px 50px rgba(94, 121, 75, 0.2);

        @media (max-width: 1023px) {
            border-radius: 23px;
        }
    }

    .app-screenshot {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: opacity 0.4s ease;
    }

    // Decorative glow behind phone
    .phone-glow {
        position: absolute;
        width: 300px;
        height: 300px;
        background: radial-gradient(
            circle,
            rgba(94, 121, 75, 0.12) 0%,
            rgba(94, 121, 75, 0.04) 50%,
            transparent 70%
        );
        border-radius: 50%;
        z-index: 1;
        pointer-events: none;
        animation: glowPulse 4s ease-in-out infinite;
    }

    // ── Animate in when visible ──
    &.visible {
        .section-header {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0s;
        }

        .phone-center {
            opacity: 1;
            transform: translateY(0) scale(1);
            transition-delay: 0.2s;
        }

        .features-left .feature-card {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.4s;
        }

        .features-right .feature-card:nth-child(1) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.55s;
        }

        .features-right .feature-card:nth-child(2) {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.7s;
        }

        // Allow hover transforms after animation
        .feature-card {
            &:hover,
            &.active {
                transform: translateY(0) !important;
            }
        }
    }
}

// ── Keyframes ──
@keyframes glowPulse {
    0%, 100% {
        opacity: 0.6;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.08);
    }
}
